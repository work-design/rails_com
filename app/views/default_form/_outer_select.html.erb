<div class="field is-horizontal">
  <div class="field-label is-normal">
    <label class="label"><%= model_klass.human_attribute_name(name) %></label>
  </div>
  <div class="field-body">
  <% if f.object.public_send(name)&.ancestors.present? %>
    <% f.object.public_send(name).ancestors.reverse_each do |node| %>
      <%= render partial: 'com/nodes/outer_options', locals: { f: ef, node: node, depth: node.depth, outer: outer } %>
    <% end %>
  <% else %>
    <%= render partial: 'com/nodes/outer_options', locals: { f: ef, node: f.object.public_send(name), depth: 0, outer: outer } %>
  <% end %>
  </div>
</div>
